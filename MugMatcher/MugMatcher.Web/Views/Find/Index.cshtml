@{
    ViewBag.Title = "Find";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div ng-controller="find" ng-cloak>
    <div ng-if="!hasFileBeenPicked" class="file-picker-wrapper">
        <input type="file" name="file-picker" id="file-picker" class="inputfile" accept=".jpg,.png,.gif,.tif,.tiff,.jpeg" 
               onchange="angular.element(this).scope().filePicked(this)"/>
        <label for="file-picker" class="bigButton">Choose a missing person</label>
    </div>
    <div ng-if="hasFileBeenPicked" class="missing-persons-wrapper">
        <div class="img-wrapper">
            <img id="missing-persons-img" />
        </div>
        
        <div class="details-wrapper">
            <input ng-model="name" class="input" id="name-input" name="name-input" type="text" placeholder="Persons name"/> <br/>
            <input ng-modal="age" class="input" id="age-input" name="name-input" type="text" placeholder="Persons age" /> <br />
            <select ng-modal="gender" class="input" id="gender-input" name="name-input" placeholder="Persons gender"> 
                <option disabled selected>Persons gender</option>
                <option value="Male">Male</option>
                <option value="Female">Female</option>
            </select><br />
            <input ng-modal="lat" class="input" id="lat-input" type="text" placeholder="Latitude"/>
            <input ng-modal="long" class="input" id="long-input" type="text" placeholder="Longitude" />
        </div>
        <br/><button id="submit" ng-click="findPerson()">Find them!</button>
    </div>
</div>

@*<div ng-controller="find">
	<div class="listView">
		<a class="listViewItem" ng-repeat="path in fileList" href="#" ng-click="setPath(path)">{{path}}</a>
	</div>
	<div>Selected path: {{selectedPath}}</div>
	<img ng-src="/find/image?file={{selectedPath}}"/>
	<button ng-click="findPerson(selectedPath)">Find Person</button>
	<div ng-if="personFound!==null">
		<div ng-if="personFound">Person found</div>
		<div ng-if="!personFound">Person not found</div>
	</div>

	<scope-init value="fileList">@Json.Encode(Model.FileList)</scope-init>
</div>*@